I"È<p>PSï¼šå…¶å®æˆ‘ä¸ä»…ä¼šc++ï¼Œä¹Ÿè‡ªå­¦è¿‡pythonï¼ˆéœ‡æƒŠ.jpgï¼‰</p>

<hr />

<p><del>ä¸çŸ¥é“æ¤’ç›å™ªå£°ï¼Œç™½å™ªå£°ï¼Œé«˜æ–¯å™ªå£°ï¼Œå‡å€¼æ»¤æ³¢æˆ–ä¸­å€¼æ»¤æ³¢çš„è¯·è‡ªè¡Œç™¾åº¦ã€‚</del></p>

<h3 id="æ»¤æ³¢é™å™ª">æ»¤æ³¢é™å™ª</h3>

<blockquote>
  <p>æ•°å­—å›¾åƒåœ¨é‡‡é›†å’Œä¼ è¾“å¤„ç†çš„è¿‡ç¨‹ä¸­ç»å¸¸å—åˆ°è®¾å¤‡ã€ç¯å¢ƒç­‰å› ç´ çš„å½±å“,å¦‚å…‰ç”µè½¬æ¢è¿‡ç¨‹ä¸­æ•æ„Ÿå…ƒå™¨ä»¶çµæ•åº¦çš„ä¸å‡åŒ€æ€§ã€æ•°å­—åŒ–è¿‡ç¨‹ä¸­çš„é‡åŒ–å™ªå£°ã€ä¼ è¾“è¿‡ç¨‹ä¸­çš„è¯¯å·®ä»¥åŠäººä¸ºå› ç´ ç­‰,å‡ä½¿å›¾åƒè´¨é‡å˜å·®,å«æœ‰å„ç§éšæœºå™ªå£°,ç”šè‡³æœ‰æ—¶å€™,è¿™ç§éšæœºå™ªå£°ä¼šå¯¹å›¾åƒè´¨é‡äº§ç”Ÿè¾ƒå¤§çš„å½±å“ã€‚å¦‚æœå›¾åƒä¸­å™ªå£°å¼ºåº¦æ¯”è¾ƒå¤§çš„è¯,ä¸€æ–¹é¢ä¼šå½±å“äººä»¬è§‚èµå›¾åƒæ—¶çš„è§†è§‰æ•ˆæœå¦ä¸€æ–¹é¢,ç”¨è®¡ç®—æœºå¯¹å›¾åƒè¿›è¡Œå¤„ç†æ—¶,å™ªå£°è¿˜æœ‰å¯èƒ½å½±å“åˆ°å›¾åƒå¤„ç†çš„ç»“æœã€‚å›¾åƒå»å™ªå°±æ˜¯è¦ä¿ç•™å›¾åƒä¸­çš„æœ‰ç”¨ä¿¡æ¯,å‡å°‘æˆ–æ¶ˆé™¤å›¾åƒä¸­çš„å¹²æ‰°å’Œå™ªå£°ã€‚</p>

  <p>â€”â€”ã€ŠåŸºäºä¸­å€¼æ»¤æ³¢å’Œå°æ³¢å˜æ¢çš„å›¾åƒå»å™ªç ”ç©¶ã€‹æ¨è¾‰</p>
</blockquote>

<h3 id="å™ªå£°">å™ªå£°</h3>

<p><strong>å™ªå£°æŒ‰ç…§æ¦‚ç‡åˆ†ç±»ï¼š</strong></p>

<blockquote>
  <p>é«˜æ–¯å™ªå£°ï¼šæŒ‡æ¦‚ç‡å¯†åº¦å‡½æ•°æœä»é«˜æ–¯åˆ†å¸ƒï¼ˆå³æ­£æ€åˆ†å¸ƒï¼‰çš„ä¸€ç±»å™ªå£°ã€‚</p>

  <p>å‡åŒ€å™ªå£°</p>

  <p>è„‰å†²å™ªå£°ï¼šçªç„¶çˆ†å‘åˆå¾ˆå¿«æ¶ˆå¤±çš„å™ªå£°</p>
</blockquote>

<h3 id="ä¸­å€¼æ»¤æ³¢å‡å€¼æ»¤æ³¢ä»‹ç»">ä¸­å€¼æ»¤æ³¢&amp;å‡å€¼æ»¤æ³¢ä»‹ç»</h3>

<p>ä¸­å€¼æ»¤æ³¢æ˜¯å¹¿æ³›åº”ç”¨äºå»é™¤å™ªå£°çš„ä¸€ç§åŸºäºæ’åºç»Ÿè®¡ç†è®ºçš„èƒ½æœ‰æ•ˆæŠ‘åˆ¶å™ªå£°çš„éçº¿æ€§ä¿¡å·å¤„ç†æŠ€æœ¯ã€‚</p>

<p>å…¶å®ç°åŸç†æ˜¯å°†å›¾ç‰‡ä¸­çš„åƒç´ \(f(x,y)\)ï¼Œç”¨è¯¥åƒç´ å‘¨å›´æŸä¸ªèŒƒå›´å†…çš„æ‰€æœ‰åƒç´ å€¼è¿›è¡Œæ’åºç»Ÿè®¡çš„ä¸­å€¼æ›¿æ¢æ‰ã€‚æˆ‘ä»¬ä¸å¦¨è®¾è¿™ä¸ªèŒƒå›´ä¸ºä¸€ä¸ªè¾¹é•¿ä¸º\(2n+1\)çš„æ­£æ–¹å½¢ï¼Œé‚£ä¹ˆè¿™ä¸ªæ­£æ–¹å½¢ä¾¿å¯ä»¥ç§°ä½œæ»¤æ³¢çª—å£ã€‚</p>

<p>è¯¥ç®—æ³•å¯è¡¨ç¤ºä¸º\(f(i,j)=median\{f(x,y) \mid x\in[i-r,i+r],y\in[j-r,j+r]\}\)ã€‚</p>

<p>è€Œå‡å€¼æ»¤æ³¢åˆ™ä¹Ÿä¸å…¶ç±»ä¼¼ï¼Œèƒ½è¡¨ç¤ºæˆï¼š\(f(i,j)=\frac{1}{(2n+1)^2}\times\sum\limits_{x=i-r}^{i+r}\sum\limits_{y=j-r}^{i+r}(f(x,y))\)</p>

<h3 id="ä»£ç çš„å®ç°åŸç†">ä»£ç çš„å®ç°åŸç†</h3>

<p>åœ¨ç™½å¤©æ‹æ‘„ä¸€äº›å‡ ä¹æ— å™ªç‚¹çš„å›¾ç‰‡ï¼Œé€šè¿‡pyhtonçš„opencvåº“å®ç°å…¶è¯»å–å¹¶è½¬æ¢ä¸ºmatçŸ©é˜µï¼Œäººä¸ºç”Ÿæˆé«˜æ–¯å™ªç‚¹ï¼ˆå¦‚æœ‰ä½™åŠ›ä¹Ÿå¯å°‘é‡åŠ å…¥æ¤’ç›å™ªç‚¹ï¼‰ï¼Œåˆ†åˆ«è¿›è¡Œä¸­å€¼æ»¤æ³¢ï¼Œå‡å€¼æ»¤æ³¢ã€‚ç„¶åå°†å¤„ç†åçš„å›¾ç‰‡æ¯ä¸ªåƒç´ çš„RGBè‰²åº¦ä¸åŸå›¾ï¼ˆæ— å™ªç‚¹ï¼‰ç›¸å‡å¹¶å–ç»å¯¹å€¼ï¼Œç„¶åè¿›è¡Œç»Ÿè®¡æ¯”è¾ƒã€‚</p>

<h3 id="ä»£ç ">ä»£ç ï¼š</h3>

<pre><code class="language-python">import cv2
import numpy as np
import random as r

def salt(origin_img, n):#æ¤’ç›å™ªå£°
    img=origin_img.copy()
    for k in range(n):
        i = int(np.random.random() * img.shape[1])
        j = int(np.random.random() * img.shape[0])
        if img.ndim == 2:
            img[j,i] = 255
        elif img.ndim == 3:
            img[j,i,0]= 255
            img[j,i,1]= 255
            img[j,i,2]= 255
    return img

def makegauss(origin_img):#é«˜æ–¯å™ªå£°
    img=origin_img.copy();
    for i in range(img.shape[0]):
        for j in range(img.shape[1]):
            g=r.gauss(0,10)
            r1=np.where((g+img[i,j])&gt;255,255,(g+img[i,j]))
            r2=np.where(r1&lt;0,0,r1)
            img[i,j]=np.round(r2)
    return img

def picdiff(img1,img2):
    r=0;g=0;b=0
    for i in range(img1.shape[0]):
        for j in range(img1.shape[1]):
            r+=abs(int(img1[i,j,0])-int(img2[i,j,0]))
            g+=abs(int(img1[i,j,1])-int(img2[i,j,1]))
            b+=abs(int(img1[i,j,2])-int(img2[i,j,2]))
    print("r:",r,"g:",g,"b:",b)


#------------------------------------------

#read
path2pic=".\\"#input("input the path:") 
picname="try.bmp"#input("input pic name:")
winsize=3#int(input("size of win:"))
img01 = cv2.imread(path2pic+picname)#è¯»å–ç›®æ ‡å›¾ç‰‡

#------------------------------------------

#salt
imgwithsalt=salt(img01,10000)
#ä¸­å€¼æ»¤æ³¢
img_medianBlur=cv2.medianBlur(imgwithsalt,winsize)
#å‡å€¼æ»¤æ³¢
img_Blur=cv2.blur(imgwithsalt,(winsize,winsize))
#æ˜¾ç¤º
cv2.namedWindow("salt")
cv2.imshow("salt",imgwithsalt)
cv2.namedWindow("medianBlur")
cv2.imshow("medianBlur",img_medianBlur)
cv2.namedWindow("Blur")
cv2.imshow("Blur",img_Blur)
cv2.waitKey (0)
cv2.destroyAllWindows()

#è¿˜åŸç¨‹åº¦
print("diff with origin pic:")
picdiff(img01,imgwithsalt)#åŸå›¾ä¸å™ªç‚¹å›¾çš„å·®å¼‚
picdiff(img01,img_medianBlur)
picdiff(img01,img_Blur)
print("---------------------------")

#------------------------------------------

#gauss
imgwithgauss=makegauss(img01)
#ä¸­å€¼æ»¤æ³¢
img_medianBlur=cv2.medianBlur(imgwithgauss,winsize)
#å‡å€¼æ»¤æ³¢
img_Blur=cv2.blur(imgwithgauss,(winsize,winsize))
#æ˜¾ç¤º
cv2.namedWindow("gauss")
cv2.imshow("gauss",imgwithgauss)
cv2.namedWindow("medianBlur")
cv2.imshow("medianBlur",img_medianBlur)
cv2.namedWindow("Blur")
cv2.imshow("Blur",img_Blur)
cv2.waitKey (0)
cv2.destroyAllWindows()

#è¿˜åŸç¨‹åº¦
print("diff with origin pic:")
picdiff(img01,imgwithgauss)#åŸå›¾ä¸å™ªç‚¹å›¾çš„å·®å¼‚
picdiff(img01,img_medianBlur)
picdiff(img01,img_Blur)
#------------------------------------------
#å­˜å‚¨
#save=input("save or not?[y/n]:")
#if save=="y":
#   cv2.imwrite(path2pic+"medianBlur.bmp",img_medianBlur)
#   cv2.imwrite(path2pic+"Blur.bmp",img_Blur)
#   cv2.imwrite(path2pic+"white.bmp",imgwithgauss)
</code></pre>

:ET