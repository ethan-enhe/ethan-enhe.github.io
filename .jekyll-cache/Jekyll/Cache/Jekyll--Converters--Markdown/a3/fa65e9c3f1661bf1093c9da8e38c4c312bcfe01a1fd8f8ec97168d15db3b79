I" <p>å‚è€ƒ <a href="https://www.luogu.com.cn/blog/BeWild/post-si-bian-xing-fou-deng-shi-you-hua-dp">è‚–ç„¶çš„åšå®¢</a></p>

<h2 id="ä»€ä¹ˆæ˜¯å››è¾¹å½¢ä¸ç­‰å¼">ä»€ä¹ˆæ˜¯å››è¾¹å½¢ä¸ç­‰å¼</h2>

<h3 id="åŸå½¢å¼">åŸå½¢å¼</h3>

<blockquote>
  <p>æœ‰ä¸€ä¸ªåŒå˜é‡å‡½æ•° $f(x,y)$ï¼Œå¦‚æœå¯¹äº $\forall a\le b\le c\le d$ï¼Œéƒ½æ»¡è¶³ $f(a,d)+f(b,c)\ge f(a,c)+f(b,d)$ åˆ™ç§°å…¶æ»¡è¶³ <strong>å››è¾¹å½¢ä¸ç­‰å¼</strong>ã€‚</p>
</blockquote>

<h3 id="ç­‰ä»·å½¢å¼">ç­‰ä»·å½¢å¼</h3>

<blockquote>
  <p>å¯¹äº $\forall a&lt;b$ï¼Œéƒ½æœ‰ $f(a,b+1)+f(a+1,b)\ge f(a,b)+f(a+1,b+1)$ã€‚</p>
</blockquote>

<p>è¿™ä¸€å½¢å¼çš„å¿…è¦æ€§æ˜¾ç„¶ï¼Œä¸‹è¯å…¶å……åˆ†æ€§ï¼š</p>

<p>è‹¥ $a+1&lt;b$ åˆ™ï¼š</p>

\[\begin{aligned}
f(a,b+1)+f(a+1,b)&amp;\ge f(a,b)+f(a+1,b+1)\cr
f(a+1,b+1)+f(a+2,b)&amp;\ge f(a+1,b)+f(a+2,b+1)
\end{aligned}\]

<p>ä¸¤å¼ç›¸åŠ ï¼Œå¾—</p>

\[f(a,b+1)+f(a+2,b)\ge f(a,b)+f(a+2,b+1)\]

<p>åŸæ¥çš„ a+1 å¯ä»¥æ‰©å±•åˆ° a+2ï¼Œç”¨ç±»ä¼¼æ–¹æ³•ï¼Œå¯æ‰©å±•æˆï¼š</p>

\[\forall a^{\prime}&gt;a,f(a,b+1)+f(a^{\prime},b)\ge f(a,b)+f(a^{\prime},b+1)\]

<p>b çš„æ‰©å±•æ–¹å¼ç±»ä¼¼ï¼Œå°±æ˜¯æŠŠåŸå¼å¸¦å…¥ $b^{\prime}=b-1$ ç„¶åç›¸åŠ å³å¯ã€‚</p>

<h2 id="ä¼˜åŒ–-dp">ä¼˜åŒ– DP</h2>

<h3 id="1d1d">1D1D</h3>

\[dp(i)=\min_{j&lt;i}(dp(j)+w(j,i))\]

<p>å…¶ä¸­ w å‡½æ•°æ»¡è¶³å››è¾¹å½¢ä¸ç­‰å¼æ—¶ï¼Œè½¬ç§»å…·æœ‰ <strong>å†³ç­–å•è°ƒæ€§</strong>ï¼Œæ¯æ¬¡çš„å†³ç­–ç‚¹éƒ½åœ¨ä¸Šæ¬¡çš„åå¤´ï¼Œä¸‹è¯ä¹‹ï¼š</p>

<p><strong>å•è°ƒæ€§è¯æ˜</strong></p>

<p>è®¾ç¬¬ i é¡¹çš„å†³ç­–ç‚¹ä¸º $p(i)$ï¼Œåˆ™å¯¹ $\forall j&lt;i$ï¼š</p>

\[\begin{aligned}
dp(p(i))+w(p(i),i)&amp;\le dp(j)+w(j,i)\cr
w(p(i),i+1)+w(j,i)&amp;\le w(p(i),i)+w(j,i+1)
\end{aligned}\]

<p>ä¸¤å¼ç›¸åŠ ï¼Œå¾—ï¼š</p>

\[dp(p(i))+w(p(i),i+1)\le dp(j)+w(j,i+1)\]

<p>æ‰€ä»¥ $p(i+1)\ge p(i)$ã€‚</p>

<h4 id="p3515-poi2011lightning-conductor">P3515 [POI2011]Lightning Conductor</h4>

<p><del>è€å¸ˆçš„ä»£ç äº¤åˆ°é»‘æš—çˆ†ç‚¸ OJ è¢«å¡äº†</del></p>

<p>æŠŠåŸå¼ç§»é¡¹ $p\ge a_j-a_i+\sqrt{\abs{i-j}}$</p>
:ET